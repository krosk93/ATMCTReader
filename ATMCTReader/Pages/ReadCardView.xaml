<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:skia="clr-namespace:SkiaSharp.Extended.UI.Controls;assembly=SkiaSharp.Extended.UI"
             xmlns:pages="clr-namespace:ATMCTReader.Pages"
             x:Class="ATMCTReader.Pages.ReadCardView"
             x:DataType="pages:ReadCardViewModel"
             Title="Llegir targeta">
    <ContentPage.BindingContext>
        <pages:ReadCardViewModel />
    </ContentPage.BindingContext>
    <VerticalStackLayout>
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="4*"></RowDefinition>
                <RowDefinition Height="*"></RowDefinition>
            </Grid.RowDefinitions>
            <skia:SKLottieView
                Grid.Row="0"
                VerticalOptions="Center"
                HorizontalOptions="Center"
                RepeatCount="{Binding AnimationRepeat}"
                Source="{Binding AnimationName}"
                HeightRequest="400"
                WidthRequest="400"
                />
            <Label Grid.Row="1" HorizontalOptions="Center" VerticalOptions="Center" FontAttributes="Bold" FontSize="32" IsVisible="{Binding IsWaiting}" Text="Apropa una targeta" />
            <Label Grid.Row="1" HorizontalOptions="Center" VerticalOptions="Center" FontAttributes="Bold" FontSize="32" IsVisible="{Binding IsReading}" Text="Llegint..." />
            <Label Grid.Row="1" HorizontalOptions="Center" VerticalOptions="Center" FontAttributes="Bold" FontSize="32" IsVisible="{Binding IsSuccess}" Text="Targeta llegida!" />
            <Label Grid.Row="1" HorizontalOptions="Center" VerticalOptions="Center" FontAttributes="Bold" FontSize="32" IsVisible="{Binding IsError}" Text="Error llegint" />
        </Grid>
    </VerticalStackLayout>
</ContentPage>